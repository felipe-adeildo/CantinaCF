{% extends 'base.html' %}

{% block additional_css %}
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-datepicker@1.12.0/dist/css/bootstrap-datepicker.min.css">
{% endblock additional_css %}

{% block content %}
<h3 class="text-center">{% block title %}Lista de Produtos{% endblock title %}</h3>

<hr>

<table class="table table-striped table-bordered table-hover">
    <thead>
        <tr>
            <th>ID</th>
            <th>Nome</th>
            <th>Descrição</th>
            <th>Valor</th>
            <th>Tipo</th>
            <th>Quantidade</th>
            {% if 'edit_product' in session['permissions'] %}
            <th>Editar</th>
            {% endif %}
        </tr>
    </thead>
    <tbody>
        {% for product in products %}
        <tr>
            <td>{{ product.id }}</td>
            <td>{{ product.nome }}</td>
            <td>{{ product.descricao or '-' }}</td>
            <td>R$ {{ product.valor }}</td>
            <td>{{ product.tipo }}</td>
            <td>{{ product.quantidade }}</td>
            {% if 'edit_product' in session['permissions'] %}
            <td>
                <a class="btn btn-primary btn-icon-center btn-floating btn-sm tooltiped" data-bs-placement="right"
                    data-bs-toggle="tooltip" data-bs-tooltip="Editar Produto"
                    href="{{ url_for('edit_product', product_id=product.id) }}">
                    <i class="fas fa-edit"></i>
                </a>
            </td>
            {% endif %}
        </tr>
        {% endfor %}
    </tbody>
</table>

<div class="pagination">
    {{ pagination.info|safe }}
    {{ pagination.links|safe }}
</div>

{% endblock content %}